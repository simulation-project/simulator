<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head><title>/home/sony/GP/Alaa/simulator/trunk/msc/test/msc_app_SUITE.erl</title></head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
    1:<i>%%%-------------------------------------------------------------------</i>
    2:<i>%%% @author Ahmed Samy &lt;ahm.sam@live.com&gt;</i>
    3:<i>%%% @copyright (C) 2012, Ahmed Samy</i>
    4:<i>%%% @doc</i>
    5:<i>%%%</i>
    6:<i>%%% @end</i>
    7:<i>%%% Created : 17 Jun 2012 by Ahmed Samy &lt;ahm.sam@live.com&gt;</i>
    8:<i>%%%-------------------------------------------------------------------</i>
    9:-<b>module</b>(msc_app_SUITE).
<a name="10"></a>   10:
   11:-<b>compile</b>(export_all).
   12:
   13:-<b>include_lib</b>("common_test/include/ct.hrl").
   14:<i>%-include_lib("/home/Vendetta/sim_project/simulator/branches/isheash/epgsql/include/epgsql.hrl").</i>
   15:
   16:<i>%%--------------------------------------------------------------------</i>
   17:<i>%% @spec suite() -&gt; Info</i>
   18:<i>%% Info = [tuple()]</i>
   19:<i>%% @end</i>
<a name="20"></a>   20:<i>%%--------------------------------------------------------------------</i>
<a name=suite>   21:<b>suite</b></a>() -&gt;
   22:    [{timetrap,{seconds,30}}].
   23:
   24:<i>%%--------------------------------------------------------------------</i>
   25:<i>%% @spec init_per_suite(Config0) -&gt;</i>
   26:<i>%%     Config1 | {skip,Reason} | {skip_and_save,Reason,Config1}</i>
   27:<i>%% Config0 = Config1 = [tuple()]</i>
   28:<i>%% Reason = term()</i>
   29:<i>%% @end</i>
<a name="30"></a>   30:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_suite>   31:<b>init_per_suite</b></a>(Config) -&gt;
   32:    ok = application:start(sasl),
   33:    ok = application:start(crypto),
   34:    ok = application:start(public_key),
   35:    ok = application:start(ssl),
   36:    true = code:add_path("/home/Vendetta/sim_project/simulator/branches/isheash/epgsql/ebin"),
   37:    ok = application:start(epgsql),
   38:    true = code:add_path("/home/Vendetta/sim_project/simulator/branches/isheash/hlr/ebin"),
   39:    %ok = code:add_path("../hlr/ebin"),
<a name="40"></a>   40:    %ok = application:start(hlr),
   41:    ok = application:start(msc),
   42:    lists:foreach(fun(X) -&gt; code:add_path(X) end, ct:get_config(paths, [])),
   43:    {A1, A2, A3} = now(),
   44:    random:seed(A1, A2, A3),
   45:    dbg:tracer(),
   46:    dbg:p(all, [c, sos, sol]),
   47:    %MaxTime = ct:get_config(max_time, ?MAX_TIME),
   48:    %AdpConf = xml_schema:parse(ct:get_config(conf_file)),
   49:    %[{max_time, MaxTime} | Conf].
<a name="50"></a>   50:    %[{conf, AdpConf} | Conf].
   51:    Config.
   52:
   53:<i>%%--------------------------------------------------------------------</i>
   54:<i>%% @spec end_per_suite(Config0) -&gt; void() | {save_config,Config1}</i>
   55:<i>%% Config0 = Config1 = [tuple()]</i>
   56:<i>%% @end</i>
   57:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_suite>   58:<b>end_per_suite</b></a>(_Config) -&gt;
   59:    ok = application:stop(sasl),
<a name="60"></a>   60:    ok = application:stop(crypto),
   61:    ok = application:stop(public_key),
   62:    ok = application:stop(ssl),
   63:    ok = application:stop(epgsql),
   64:    %ok = application:stop(hlr),
   65:    ok = application:stop(msc).
   66:
   67:<i>%%--------------------------------------------------------------------</i>
   68:<i>%% @spec init_per_group(GroupName, Config0) -&gt;</i>
   69:<i>%%               Config1 | {skip,Reason} | {skip_and_save,Reason,Config1}</i>
<a name="70"></a>   70:<i>%% GroupName = atom()</i>
   71:<i>%% Config0 = Config1 = [tuple()]</i>
   72:<i>%% Reason = term()</i>
   73:<i>%% @end</i>
   74:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_group>   75:<b>init_per_group</b></a>(_GroupName, Config) -&gt;
   76:    Config.
   77:
   78:<i>%%--------------------------------------------------------------------</i>
   79:<i>%% @spec end_per_group(GroupName, Config0) -&gt;</i>
<a name="80"></a>   80:<i>%%               void() | {save_config,Config1}</i>
   81:<i>%% GroupName = atom()</i>
   82:<i>%% Config0 = Config1 = [tuple()]</i>
   83:<i>%% @end</i>
   84:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_group>   85:<b>end_per_group</b></a>(_GroupName, _Config) -&gt;
   86:    ok.
   87:
   88:<i>%%--------------------------------------------------------------------</i>
   89:<i>%% @spec init_per_testcase(TestCase, Config0) -&gt;</i>
<a name="90"></a>   90:<i>%%               Config1 | {skip,Reason} | {skip_and_save,Reason,Config1}</i>
   91:<i>%% TestCase = atom()</i>
   92:<i>%% Config0 = Config1 = [tuple()]</i>
   93:<i>%% Reason = term()</i>
   94:<i>%% @end</i>
   95:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_testcase>   96:<b>init_per_testcase</b></a>(_TestCase, Config) -&gt;
   97:    Config.
   98:
   99:<i>%%--------------------------------------------------------------------</i>
<a name="100"></a>  100:<i>%% @spec end_per_testcase(TestCase, Config0) -&gt;</i>
  101:<i>%%               void() | {save_config,Config1} | {fail,Reason}</i>
  102:<i>%% TestCase = atom()</i>
  103:<i>%% Config0 = Config1 = [tuple()]</i>
  104:<i>%% Reason = term()</i>
  105:<i>%% @end</i>
  106:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_testcase>  107:<b>end_per_testcase</b></a>(_TestCase, _Config) -&gt;
  108:    ok.
  109:
<a name="110"></a>  110:<i>%%--------------------------------------------------------------------</i>
  111:<i>%% @spec groups() -&gt; [Group]</i>
  112:<i>%% Group = {GroupName,Properties,GroupsAndTestCases}</i>
  113:<i>%% GroupName = atom()</i>
  114:<i>%% Properties = [parallel | sequence | Shuffle | {RepeatType,N}]</i>
  115:<i>%% GroupsAndTestCases = [Group | {group,GroupName} | TestCase]</i>
  116:<i>%% TestCase = atom()</i>
  117:<i>%% Shuffle = shuffle | {shuffle,{integer(),integer(),integer()}}</i>
  118:<i>%% RepeatType = repeat | repeat_until_all_ok | repeat_until_all_fail |</i>
  119:<i>%%              repeat_until_any_ok | repeat_until_any_fail</i>
<a name="120"></a>  120:<i>%% N = integer() | forever</i>
  121:<i>%% @end</i>
  122:<i>%%--------------------------------------------------------------------</i>
<a name=groups>  123:<b>groups</b></a>() -&gt;
  124:    [].
  125:
  126:<i>%%--------------------------------------------------------------------</i>
  127:<i>%% @spec all() -&gt; GroupsAndTestCases | {skip,Reason}</i>
  128:<i>%% GroupsAndTestCases = [{group,GroupName} | TestCase]</i>
  129:<i>%% GroupName = atom()</i>
<a name="130"></a>  130:<i>%% TestCase = atom()</i>
  131:<i>%% Reason = term()</i>
  132:<i>%% @end</i>
  133:<i>%%--------------------------------------------------------------------</i>
<a name=all>  134:<b>all</b></a>() -&gt; 
  135:    [my_test_case].
  136:
  137:<i>%%--------------------------------------------------------------------</i>
  138:<i>%% @spec TestCase() -&gt; Info</i>
  139:<i>%% Info = [tuple()]</i>
<a name="140"></a>  140:<i>%% @end</i>
  141:<i>%%--------------------------------------------------------------------</i>
<a name=my_test_case>  142:<b>my_test_case</b></a>() -&gt; 
  143:    [].
  144:
  145:<i>%%--------------------------------------------------------------------</i>
  146:<i>%% @spec TestCase(Config0) -&gt;</i>
  147:<i>%%               ok | exit() | {skip,Reason} | {comment,Comment} |</i>
  148:<i>%%               {save_config,Config1} | {skip_and_save,Reason,Config1}</i>
  149:<i>%% Config0 = Config1 = [tuple()]</i>
<a name="150"></a>  150:<i>%% Reason = term()</i>
  151:<i>%% Comment = term()</i>
  152:<i>%% @end</i>
  153:<i>%%--------------------------------------------------------------------</i>
<a name=my_test_case>  154:<b>my_test_case</b></a>(_Config) -&gt; 
  155:    {ok,_Pid} = msc_app:start_msc(msc1),
  156:    %{noreply,_List} = msc_app:location_update_request(60220123456,lai1),
  157:    {noreply,_List} = msc_app:insert_subscriber_data(60220123456,info,123456).
  158:    %_MSC = msc_app:check_msc_spc(123456,60202123456789).
</pre>
<hr size=1><i>The transformation of this file (159 lines) took 0.00 seconds</i><br>
</body>
</html>
